<% include partials/header.ejs %>
<div class="wrapper">
    <% include partials/navigation.ejs %>
    <div class="row">
<div class="col-md-12">
<div class="box box-primary">

            <div class="box-header with-border">
              <h3 class="box-title">Land Registration</h3>
            </div>
            <% if(arr != 'undefine'){%>
              <% for(var i=0;i<arr.length;i++){ %>
            <div class="alert alert-danger alert-dismissible" role="alert">
              <%=arr[i].message%>
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
              <% }} %>
            <!-- /.box-header -->
            <!-- form start -->
            <form action="/peer/land_registration" method="POST" role="form">
              <div class="box-body">
                <div class="row">
                  <div class="col-sm-6">
                  <div class="form-group">
                    <label for="exampleInputEmail1">Address</label>
                    <input type="text" class="form-control" id="address" placeholder="" value="<%=address%>" name="address">
                  </div>
                  </div>
                  <div class="col-sm-6">
                  <div class="form-group">
                    <label for="exampleInputPassword1">Road Width</label>
                    <input type="text" class="form-control" id="exampleInputPassword1" placeholder="" value="<%=roadWidth%>" name="roadWidth">
                  </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label for="exampleInputEmail1">State</label>
                      <input type="text" class="form-control" id="exampleInputEmail1" placeholder="" value="<%=state%>" name="state">
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label for="exampleInputPassword1">Land Width</label>
                      <input type="text" class="form-control" id="exampleInputPassword1" placeholder="" value="<%=landWidth%>" name="landWidth">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label for="exampleInputEmail1">City</label>
                      <input type="text" class="form-control" id="exampleInputEmail1" placeholder="" value="<%=city%>" name="city" >
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label for="exampleInputPassword1">Land Height</label>
                      <input type="text" class="form-control" id="exampleInputPassword1" placeholder="" value="<%=landHeight%>" name="landHeight">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label for="exampleInputEmail1">Town Locality</label>
                      <input type="text" class="form-control" id="exampleInputEmail1" placeholder="" value="<%=locality%>" name="locality">
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label for="exampleInputPassword1">Land Type</label>
                      <input type="text" class="form-control" id="exampleInputPassword1" placeholder=""value="<%=type%>" name="type">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label for="exampleInputEmail1">Post Office</label>
                      <input type="text" class="form-control" id="exampleInputEmail1" placeholder="" value="<%=postOffice%>" name="postOffice">
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label for="exampleInputPassword1">Pincode</label>
                      <input type="text" class="form-control" id="exampleInputPassword1" placeholder="" value="<%=pincode%>"name="pincode">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label for="exampleInputEmail1">District</label>
                      <input type="text" class="form-control" id="exampleInputEmail1" placeholder=""value="<%=district%>" name="district">
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label for="exampleInputPassword1">Gps Coordinates</label>
                      <div class="row">
                        <div class="col-sm-4">
                        <input type="text" class="form-control" id="lat" placeholder="latitude" >
                        </div>
                          <div class="col-sm-4">
                            <input type="text" class="form-control" id="lng" placeholder="longitude">
                          </div>
                          <div class="col-sm-4">
                            <button type="button" class="btn btn-primary" id="latlng">Add</button>
                          </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- /.box-body -->
              <input type="hidden" value="" id="coordinates" name="coordinates">
              <div class="box-footer">
                <button type="submit" class="btn btn-primary">Submit</button>
              </div>
            </form>
          </div>
</div>
</div>
</aside>
<!-- /.control-sidebar -->
<!-- Add the sidebar's background. This div must be placed
           immediately after the control sidebar -->
<div class="control-sidebar-bg">
</div>
</div>
<!-- ./wrapper -->
</div>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script>
    var arr = [];
    $('#latlng').click(()=>{
      
      var lat=$('#lat').first().val();
       var lng= $('#lng').first().val();
      console.log(lat+" "+lng);      
      var data={$class: "org.dsociety.rstate.land.gpscoordinates",x_coordinates:lat,y_coordinates:lng}
      arr.push(data);
        var arr1=JSON.stringify(arr);
        $('#coordinates').val(arr1);
      console.log(arr1);
    });

    

  </script>
<% include partials/footer.ejs%>
